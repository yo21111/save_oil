<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="" />
	<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors" />
	<meta name="generator" content="Hugo 0.84.0" />
	<title>Save Oil</title>

	<link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/offcanvas-navbar/" />

	<!-- Bootstrap core CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
	<link href="/css/bootstrap.min.css" rel="stylesheet" />

	<style>
		.bd-placeholder-img {
			font-size: 1.125rem;
			text-anchor: middle;
			-webkit-user-select: none;
			-moz-user-select: none;
			user-select: none;
		}

		input#searchInput {
			width: 20rem;
		}

		button#searchBtn {
			width: 5rem;
		}

		div.boardBox {
			flex-wrap: wrap;
		}
		
		div.board {
			width: 49%;
			padding: 10px;
			border: 1px solid #ccc;
			border-radius: 7px;
			cursor: pointer;
		}
		
		div.wNo {
			display: none;
		}
		
		div.content {
			margin: 30px 0;
			font-size: 1.1rem;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		@media (min-width: 768px) {
			.bd-placeholder-img-lg {
				font-size: 3.5rem;
			}
		}

		@media (max-width: 768px) {
			div.board {
				width: 100%;
			}
		}
	</style>

	<!-- Custom styles for this template -->
	<link href="/css/offcanvas.css" rel="stylesheet" />
</head>

<body class="bg-light">
	<nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-dark" aria-label="Main navigation">
		<div class="container-fluid">
			<a class="navbar-brand" href="#">Save Oil</a>
			<div class="navbar-collapse offcanvas-collapse" id="navbarsExampleDefault">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link active" aria-current="page" href="#">커뮤니티</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/">주유소 검색</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<main class="container">
		<div class="d-flex justify-content-between align-items-center p-3 my-3 text-white bg-purple rounded shadow-sm">
			<div>
				<img id="Logo" class="me-2" src="https://ifh.cc/g/AOtB7m.png" border="0" width="58" height="48" />
			</div>
			<div>
				<form id="searchForm" class="d-flex">
					<input id="searchInput" class="form-control me-2" type="search" placeholder="검색하실 내용을 입력해주세요."
						aria-label="Search" name="search" />
					<button id="searchBtn" class="btn btn-dark" type="button">검색</button>
				</form>
			</div>
		</div>
		
		<div class="border-bottom p-3 text-right mb-2">
			<a href="/board/write" class="btn btn-outline-dark">글쓰기</a>
		</div>
		
		<div class="boardBox d-flex justify-content-between my-3 p-3 bg-body rounded shadow-sm">
			<div th:if="${boardList.size eq 0}" class="pt-3 border-bottom pb-2 mb-0">
				<h3 class="m-4 text-center">조회된 결과가 없습니다.</h3>
			</div>
			<div th:if="${boardList.size ne 0}" th:each="board : ${boardList}"
				class="board pt-3 border-bottom pb-2 mb-1">
				<div class="wNo" th:text="${board.wNo}"></div>
				<div>
					<h4 class="fw-bold" th:text="${board.title}"></h4>
				</div>
				<div class="content" th:text="${board.content}"></div>
				<div class="d-flex justify-content-between text-muted">
					<div th:text="${board.member.id}"></div>
					<div th:if="${board.reWriteDate eq null}" th:text="${#dates.format(board.writeDate, 'yyyy-MM-dd hh:mm')}"></div>
					<div th:if="${board.reWriteDate ne null}" th:text="${#dates.format(board.reWriteDate, 'yyyy-MM-dd hh:mm')}"></div>
				</div>
				<div class="d-flex text-muted align-items-center">
					<div class="me-5">
						<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
							class="bi bi-eye" viewBox="0 0 20 20">
							<path
								d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z" />
							<path
								d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z" />
						</svg>
						<span th:text="${board.viewCnt}"></span>
					</div>
					<div>
						<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
							class="bi bi-chat-dots" viewBox="0 0 20 20">
							<path
								d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z" />
							<path
								d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9.06 9.06 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.437 10.437 0 0 1-.524 2.318l-.003.011a10.722 10.722 0 0 1-.244.637c-.079.186.074.394.273.362a21.673 21.673 0 0 0 .693-.125zm.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6c0 3.193-3.004 6-7 6a8.06 8.06 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a10.97 10.97 0 0 0 .398-2z" />
						</svg>
						00000
					</div>
				</div>
			</div>
		</div>

	</main>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script>
		$("button#searchBtn").click(function () {
			let search = $("input#searchInput").val().trim();

			$("form#searchForm").attr("action", "/board/list?search=" + search);
			$("form#searchForm").submit();
		});
		
		$("div.board").click(function(){
			let wNo = $(this).children().eq(0).text();
			location.href = "/board/read/"+wNo;
		});
	</script>
</body>

</html>